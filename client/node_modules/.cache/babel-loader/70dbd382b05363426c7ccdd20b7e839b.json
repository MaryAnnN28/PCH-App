{"ast":null,"code":"var _jsxFileName = \"/Users/maryannn28/Projects/PCH-Real-Estate/client/src/views/application/e-commerce/Checkout/index.js\",\n    _s = $RefreshSig$();\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux'; // material-ui\n\nimport { styled } from '@material-ui/styles';\nimport { Grid, Tab, Tabs, Typography } from '@material-ui/core'; // project imports\n\nimport CartEmpty from './CartEmpty';\nimport Cart from './Cart';\nimport BillingAddress from './BillingAddress';\nimport Payment from './Payment';\nimport MainCard from 'ui-component/cards/MainCard';\nimport axios from 'utils/axios';\nimport { BACK_STEP, NEXT_STEP, REMOVE_PRODUCT, SET_STEP, SNACKBAR_OPEN, UPDATE_QUANTITY, SET_BILLING_ADDRESS, SET_SHIPPING_CHARGE } from 'store/actions';\nimport { gridSpacing } from 'store/constant'; // assets\n\nimport ShoppingCartTwoToneIcon from '@material-ui/icons/ShoppingCartTwoTone';\nimport ApartmentIcon from '@material-ui/icons/Apartment';\nimport CreditCardTwoToneIcon from '@material-ui/icons/CreditCardTwoTone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledTab = styled(props => /*#__PURE__*/_jsxDEV(Tab, { ...props\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 33,\n  columnNumber: 37\n}, this))(({\n  theme,\n  customization,\n  value,\n  cart\n}) => ({\n  color: cart.checkout.step >= value ? theme.palette.success.dark : theme.palette.grey[600],\n  minHeight: 'auto',\n  minWidth: '250px',\n  padding: 16,\n  borderRadius: `${customization.borderRadius}px`,\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'flex-start',\n  textAlign: 'left',\n  justifyContent: 'flex-start',\n  '&.Mui-selected': {\n    color: theme.palette.primary.main,\n    background: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.grey[50]\n  },\n  '& > svg': {\n    marginBottom: '0px !important',\n    marginRight: 10,\n    marginTop: 2,\n    height: '20px',\n    width: '20px'\n  },\n  [theme.breakpoints.down('sm')]: {\n    minWidth: '100%'\n  }\n})); // tabs option\n\nconst tabsOption = [{\n  label: 'User Profile',\n  icon: /*#__PURE__*/_jsxDEV(ShoppingCartTwoToneIcon, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 15\n  }, this),\n  caption: 'Product Added'\n}, {\n  label: 'Billing Address',\n  icon: /*#__PURE__*/_jsxDEV(ApartmentIcon, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 15\n  }, this),\n  caption: 'Billing Information'\n}, {\n  label: 'Payment',\n  icon: /*#__PURE__*/_jsxDEV(CreditCardTwoToneIcon, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 15\n  }, this),\n  caption: 'Add & Update Card'\n}]; // tabs\n\nfunction TabPanel({\n  children,\n  value,\n  index,\n  ...other\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n}; // ===========================|| PRODUCT - CHECKOUT MAIN ||=========================== //\n\nconst Checkout = () => {\n  _s();\n\n  const customization = useSelector(state => state.customization);\n  const cart = useSelector(state => state.cart);\n  const dispatch = useDispatch();\n  const isCart = cart.checkout.products && cart.checkout.products.length > 0;\n  const [value, setValue] = React.useState(cart.checkout.step > 2 ? 2 : cart.checkout.step);\n  const [billing, setBilling] = React.useState(cart.checkout.billing);\n  const [address, setAddress] = React.useState(null);\n\n  const getAddress = async () => {\n    const response = await axios.get('/api/address/list');\n    setAddress(response.data.address);\n  };\n\n  React.useEffect(() => {\n    getAddress(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const addAddress = async address => {\n    const response = await axios.post('/api/address/new', {\n      data: address\n    });\n    setAddress(response.data.address);\n  };\n\n  const editAddress = async address => {\n    const response = await axios.post('/api/address/edit', {\n      data: address\n    });\n    setAddress(response.data.address);\n  };\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    dispatch({\n      type: SET_STEP,\n      step: newValue\n    });\n  };\n\n  React.useEffect(() => {\n    setValue(cart.checkout.step > 2 ? 2 : cart.checkout.step); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [cart.checkout.step]);\n\n  const removeProduct = id => {\n    dispatch({\n      type: REMOVE_PRODUCT,\n      id\n    });\n    dispatch({\n      type: SNACKBAR_OPEN,\n      open: true,\n      message: 'Update Cart Success',\n      variant: 'alert',\n      alertSeverity: 'success'\n    });\n  };\n\n  const updateQuantity = (id, quantity) => {\n    dispatch({\n      type: UPDATE_QUANTITY,\n      id,\n      quantity\n    });\n  };\n\n  const onNext = () => {\n    dispatch({\n      type: NEXT_STEP\n    });\n  };\n\n  const onBack = () => {\n    dispatch({\n      type: BACK_STEP\n    });\n  };\n\n  const billingAddressHandler = address => {\n    if (billing !== null || address !== null) {\n      if (address !== null) {\n        setBilling(address);\n      }\n\n      dispatch({\n        type: SET_BILLING_ADDRESS,\n        address: address !== null ? address : billing\n      });\n      onNext();\n    } else {\n      dispatch({\n        type: SNACKBAR_OPEN,\n        open: true,\n        message: 'Please select delivery address',\n        variant: 'alert',\n        alertSeverity: 'error'\n      });\n    }\n  };\n\n  const handleShippingCharge = type => {\n    dispatch({\n      type: SET_SHIPPING_CHARGE,\n      value: type\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainCard, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: gridSpacing,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: value,\n          onChange: handleChange,\n          \"aria-label\": \"icon label tabs example\",\n          variant: \"scrollable\",\n          sx: {\n            '& .MuiTabs-flexContainer': {\n              borderBottom: 'none'\n            },\n            '& .MuiTabs-indicator': {\n              display: 'none'\n            },\n            '& .MuiButtonBase-root + .MuiButtonBase-root': {\n              position: 'relative',\n              overflow: 'visible',\n              ml: '16px',\n              '&:after': {\n                content: '\"\"',\n                bgcolor: '#ccc',\n                width: '1px',\n                height: 'calc(100% - 16px)',\n                position: 'absolute',\n                top: '8px',\n                left: '-8px'\n              }\n            }\n          },\n          children: tabsOption.map((tab, index) => /*#__PURE__*/_jsxDEV(StyledTab, {\n            customization: customization,\n            value: index,\n            cart: cart,\n            disabled: index > cart.checkout.step,\n            icon: tab.icon,\n            label: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"column\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"inherit\",\n                children: tab.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                component: \"div\",\n                variant: \"caption\",\n                sx: {\n                  textTransform: 'capitalize'\n                },\n                children: tab.caption\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 37\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 0,\n          children: [isCart && /*#__PURE__*/_jsxDEV(Cart, {\n            checkout: cart.checkout,\n            onNext: onNext,\n            removeProduct: removeProduct,\n            updateQuantity: updateQuantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 29\n          }, this), !isCart && /*#__PURE__*/_jsxDEV(CartEmpty, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 1,\n          children: /*#__PURE__*/_jsxDEV(BillingAddress, {\n            checkout: cart.checkout,\n            onBack: onBack,\n            onNext: onNext,\n            billingAddressHandler: billingAddressHandler,\n            address: address,\n            addAddress: addAddress,\n            editAddress: editAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 2,\n          children: /*#__PURE__*/_jsxDEV(Payment, {\n            checkout: cart.checkout,\n            onBack: onBack,\n            onNext: onNext,\n            handleShippingCharge: handleShippingCharge\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Checkout, \"tLNqq0+vgpjdfzODfjJxm+8P6Yk=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c2 = Checkout;\nexport default Checkout;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"Checkout\");","map":{"version":3,"sources":["/Users/maryannn28/Projects/PCH-Real-Estate/client/src/views/application/e-commerce/Checkout/index.js"],"names":["PropTypes","React","useDispatch","useSelector","styled","Grid","Tab","Tabs","Typography","CartEmpty","Cart","BillingAddress","Payment","MainCard","axios","BACK_STEP","NEXT_STEP","REMOVE_PRODUCT","SET_STEP","SNACKBAR_OPEN","UPDATE_QUANTITY","SET_BILLING_ADDRESS","SET_SHIPPING_CHARGE","gridSpacing","ShoppingCartTwoToneIcon","ApartmentIcon","CreditCardTwoToneIcon","StyledTab","props","theme","customization","value","cart","color","checkout","step","palette","success","dark","grey","minHeight","minWidth","padding","borderRadius","display","flexDirection","alignItems","textAlign","justifyContent","primary","main","background","mode","marginBottom","marginRight","marginTop","height","width","breakpoints","down","tabsOption","label","icon","caption","TabPanel","children","index","other","propTypes","node","any","isRequired","Checkout","state","dispatch","isCart","products","length","setValue","useState","billing","setBilling","address","setAddress","getAddress","response","get","data","useEffect","addAddress","post","editAddress","handleChange","event","newValue","type","removeProduct","id","open","message","variant","alertSeverity","updateQuantity","quantity","onNext","onBack","billingAddressHandler","handleShippingCharge","borderBottom","position","overflow","ml","content","bgcolor","top","left","map","tab","textTransform"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n// material-ui\r\nimport { styled } from '@material-ui/styles';\r\nimport { Grid, Tab, Tabs, Typography } from '@material-ui/core';\r\n\r\n// project imports\r\nimport CartEmpty from './CartEmpty';\r\nimport Cart from './Cart';\r\nimport BillingAddress from './BillingAddress';\r\nimport Payment from './Payment';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport axios from 'utils/axios';\r\nimport {\r\n    BACK_STEP,\r\n    NEXT_STEP,\r\n    REMOVE_PRODUCT,\r\n    SET_STEP,\r\n    SNACKBAR_OPEN,\r\n    UPDATE_QUANTITY,\r\n    SET_BILLING_ADDRESS,\r\n    SET_SHIPPING_CHARGE\r\n} from 'store/actions';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\n// assets\r\nimport ShoppingCartTwoToneIcon from '@material-ui/icons/ShoppingCartTwoTone';\r\nimport ApartmentIcon from '@material-ui/icons/Apartment';\r\nimport CreditCardTwoToneIcon from '@material-ui/icons/CreditCardTwoTone';\r\n\r\nconst StyledTab = styled((props) => <Tab {...props} />)(({ theme, customization, value, cart }) => ({\r\n    color: cart.checkout.step >= value ? theme.palette.success.dark : theme.palette.grey[600],\r\n    minHeight: 'auto',\r\n    minWidth: '250px',\r\n    padding: 16,\r\n    borderRadius: `${customization.borderRadius}px`,\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-start',\r\n    textAlign: 'left',\r\n    justifyContent: 'flex-start',\r\n    '&.Mui-selected': {\r\n        color: theme.palette.primary.main,\r\n        background: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.grey[50]\r\n    },\r\n    '& > svg': {\r\n        marginBottom: '0px !important',\r\n        marginRight: 10,\r\n        marginTop: 2,\r\n        height: '20px',\r\n        width: '20px'\r\n    },\r\n    [theme.breakpoints.down('sm')]: {\r\n        minWidth: '100%'\r\n    }\r\n}));\r\n\r\n// tabs option\r\nconst tabsOption = [\r\n    {\r\n        label: 'User Profile',\r\n        icon: <ShoppingCartTwoToneIcon />,\r\n        caption: 'Product Added'\r\n    },\r\n    {\r\n        label: 'Billing Address',\r\n        icon: <ApartmentIcon />,\r\n        caption: 'Billing Information'\r\n    },\r\n    {\r\n        label: 'Payment',\r\n        icon: <CreditCardTwoToneIcon />,\r\n        caption: 'Add & Update Card'\r\n    }\r\n];\r\n\r\n// tabs\r\nfunction TabPanel({ children, value, index, ...other }) {\r\n    return (\r\n        <div role=\"tabpanel\" hidden={value !== index} id={`simple-tabpanel-${index}`} aria-labelledby={`simple-tab-${index}`} {...other}>\r\n            {value === index && <div>{children}</div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired\r\n};\r\n\r\n// ===========================|| PRODUCT - CHECKOUT MAIN ||=========================== //\r\n\r\nconst Checkout = () => {\r\n    const customization = useSelector((state) => state.customization);\r\n    const cart = useSelector((state) => state.cart);\r\n    const dispatch = useDispatch();\r\n\r\n    const isCart = cart.checkout.products && cart.checkout.products.length > 0;\r\n\r\n    const [value, setValue] = React.useState(cart.checkout.step > 2 ? 2 : cart.checkout.step);\r\n    const [billing, setBilling] = React.useState(cart.checkout.billing);\r\n    const [address, setAddress] = React.useState(null);\r\n\r\n    const getAddress = async () => {\r\n        const response = await axios.get('/api/address/list');\r\n        setAddress(response.data.address);\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        getAddress();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const addAddress = async (address) => {\r\n        const response = await axios.post('/api/address/new', {\r\n            data: address\r\n        });\r\n        setAddress(response.data.address);\r\n    };\r\n\r\n    const editAddress = async (address) => {\r\n        const response = await axios.post('/api/address/edit', {\r\n            data: address\r\n        });\r\n        setAddress(response.data.address);\r\n    };\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n        dispatch({ type: SET_STEP, step: newValue });\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        setValue(cart.checkout.step > 2 ? 2 : cart.checkout.step);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [cart.checkout.step]);\r\n\r\n    const removeProduct = (id) => {\r\n        dispatch({ type: REMOVE_PRODUCT, id });\r\n        dispatch({\r\n            type: SNACKBAR_OPEN,\r\n            open: true,\r\n            message: 'Update Cart Success',\r\n            variant: 'alert',\r\n            alertSeverity: 'success'\r\n        });\r\n    };\r\n\r\n    const updateQuantity = (id, quantity) => {\r\n        dispatch({ type: UPDATE_QUANTITY, id, quantity });\r\n    };\r\n\r\n    const onNext = () => {\r\n        dispatch({ type: NEXT_STEP });\r\n    };\r\n\r\n    const onBack = () => {\r\n        dispatch({ type: BACK_STEP });\r\n    };\r\n\r\n    const billingAddressHandler = (address) => {\r\n        if (billing !== null || address !== null) {\r\n            if (address !== null) {\r\n                setBilling(address);\r\n            }\r\n\r\n            dispatch({ type: SET_BILLING_ADDRESS, address: address !== null ? address : billing });\r\n            onNext();\r\n        } else {\r\n            dispatch({\r\n                type: SNACKBAR_OPEN,\r\n                open: true,\r\n                message: 'Please select delivery address',\r\n                variant: 'alert',\r\n                alertSeverity: 'error'\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleShippingCharge = (type) => {\r\n        dispatch({ type: SET_SHIPPING_CHARGE, value: type });\r\n    };\r\n\r\n    return (\r\n        <MainCard>\r\n            <Grid container spacing={gridSpacing}>\r\n                <Grid item xs={12}>\r\n                    <Tabs\r\n                        value={value}\r\n                        onChange={handleChange}\r\n                        aria-label=\"icon label tabs example\"\r\n                        variant=\"scrollable\"\r\n                        sx={{\r\n                            '& .MuiTabs-flexContainer': {\r\n                                borderBottom: 'none'\r\n                            },\r\n                            '& .MuiTabs-indicator': {\r\n                                display: 'none'\r\n                            },\r\n                            '& .MuiButtonBase-root + .MuiButtonBase-root': {\r\n                                position: 'relative',\r\n                                overflow: 'visible',\r\n                                ml: '16px',\r\n                                '&:after': {\r\n                                    content: '\"\"',\r\n                                    bgcolor: '#ccc',\r\n                                    width: '1px',\r\n                                    height: 'calc(100% - 16px)',\r\n                                    position: 'absolute',\r\n                                    top: '8px',\r\n                                    left: '-8px'\r\n                                }\r\n                            }\r\n                        }}\r\n                    >\r\n                        {tabsOption.map((tab, index) => (\r\n                            <StyledTab\r\n                                customization={customization}\r\n                                value={index}\r\n                                cart={cart}\r\n                                disabled={index > cart.checkout.step}\r\n                                key={index}\r\n                                icon={tab.icon}\r\n                                label={\r\n                                    <Grid container direction=\"column\">\r\n                                        <Typography variant=\"subtitle1\" color=\"inherit\">\r\n                                            {tab.label}\r\n                                        </Typography>\r\n                                        <Typography component=\"div\" variant=\"caption\" sx={{ textTransform: 'capitalize' }}>\r\n                                            {tab.caption}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                }\r\n                            />\r\n                        ))}\r\n                    </Tabs>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <TabPanel value={value} index={0}>\r\n                        {isCart && (\r\n                            <Cart checkout={cart.checkout} onNext={onNext} removeProduct={removeProduct} updateQuantity={updateQuantity} />\r\n                        )}\r\n                        {!isCart && <CartEmpty />}\r\n                    </TabPanel>\r\n                    <TabPanel value={value} index={1}>\r\n                        <BillingAddress\r\n                            checkout={cart.checkout}\r\n                            onBack={onBack}\r\n                            onNext={onNext}\r\n                            billingAddressHandler={billingAddressHandler}\r\n                            address={address}\r\n                            addAddress={addAddress}\r\n                            editAddress={editAddress}\r\n                        />\r\n                    </TabPanel>\r\n                    <TabPanel value={value} index={2}>\r\n                        <Payment checkout={cart.checkout} onBack={onBack} onNext={onNext} handleShippingCharge={handleShippingCharge} />\r\n                    </TabPanel>\r\n                </Grid>\r\n            </Grid>\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nexport default Checkout;\r\n"]},"metadata":{},"sourceType":"module"}